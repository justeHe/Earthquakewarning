if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((o=>t.resolve(e()).then((()=>o))),(o=>t.resolve(e()).then((()=>{throw o}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o};const o=t({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("header",{class:"header"},[e.createElementVNode("div",{class:"header-title"},"地震预警"),e.createElementVNode("div",{class:"header-icons"},[e.createElementVNode("i",{class:"fas fa-bell notification-icon",title:"通知"}),e.createElementVNode("i",{class:"fas fa-cog settings-icon",title:"设置"})])])}],["__scopeId","data-v-8d1167a1"]]);const n=t({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("div",{class:"emergency-alert"},[e.createElementVNode("i",{class:"fas fa-exclamation-triangle alert-icon"}),e.createElementVNode("div",{class:"emergency-text"},[e.createElementVNode("div",{class:"emergency-title"},"紧急地震预警"),e.createElementVNode("div",{class:"emergency-time"},"预计20秒后到达")]),e.createElementVNode("button",{class:"close-alert",onClick:o[0]||(o[0]=e=>t.$emit("close"))},[e.createElementVNode("i",{class:"fas fa-times"})])])}],["__scopeId","data-v-0cf68c77"]]),a=t({__name:"TabBar",props:{activeTab:{type:String,required:!0}},emits:["changeTab"],setup(t,{emit:o}){const n=o,a=[{name:"alert",label:"预警",icon:"fas fa-bell"},{name:"history",label:"历史",icon:"fas fa-clock-rotate-left"},{name:"guide",label:"指南",icon:"fas fa-book-open"},{name:"settings",label:"设置",icon:"fas fa-sliders"}];return(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:"tab-bar"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(a,(o=>e.createElementVNode("div",{key:o.name,class:e.normalizeClass(["tab",{active:t.activeTab===o.name}]),onClick:e=>{return t=o.name,void n("changeTab",t);var t}},[e.createElementVNode("i",{class:e.normalizeClass(["tab-icon",o.icon])},null,2),e.createElementVNode("span",{class:"tab-label"},e.toDisplayString(o.label),1)],10,["onClick"]))),64))]))}},[["__scopeId","data-v-c893476f"]]);function l(e,t,...o){uni.__log__?uni.__log__(e,t,...o):console[e].apply(console,[...o,t])}function c(e,t){return"string"==typeof e?t:e}const s=t({__name:"AlertTab",setup(t){const o=e.ref("safe"),n=e.ref("fas fa-check-circle"),a=e.ref("当前安全"),l=e.ref("您所在区域当前无地震威胁"),c=e.ref("正在获取位置..."),s=e.ref(!1),i=e.ref([{id:1,magnitude:"M4.2",time:"2023-05-15 08:23",distance:"85km",depth:"10km",warning:"不会对您所在区域造成明显影响"},{id:2,magnitude:"M5.8",time:"2023-05-12 14:37",distance:"120km",depth:"15km",warning:"部分地区有震感"}]);async function r(){s.value||(s.value=!0,c.value="正在获取位置...",s.value=!1)}return e.onMounted((()=>{})),(t,d)=>(e.openBlock(),e.createElementBlock("div",{class:"alert-tab"},[e.createElementVNode("div",{class:e.normalizeClass(["alert-status",o.value])},[e.createElementVNode("i",{class:e.normalizeClass([n.value,"alert-icon"])},null,2),e.createElementVNode("h3",{class:"alert-title"},e.toDisplayString(a.value),1),e.createElementVNode("p",{class:"alert-message"},e.toDisplayString(l.value),1)],2),e.createElementVNode("div",{class:"location-info"},[e.createElementVNode("i",{class:"fas fa-map-marker-alt location-icon"}),e.createElementVNode("div",{class:"location-text"},[e.createElementVNode("div",{class:"location-name"},"当前位置"),e.createElementVNode("div",{class:"location-address"},e.toDisplayString(c.value),1)]),e.createElementVNode("button",{class:"refresh-btn",onClick:r,disabled:s.value},[e.createElementVNode("i",{class:e.normalizeClass(["fas",s.value?"fa-spinner fa-pulse":"fa-sync-alt"])},null,2)],8,["disabled"])]),e.createElementVNode("h3",{class:"quake-title"},"周边地震"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t=>(e.openBlock(),e.createElementBlock("div",{class:"quake-card",key:t.id},[e.createElementVNode("div",{class:"quake-header"},[e.createElementVNode("div",{class:"quake-magnitude"},e.toDisplayString(t.magnitude),1),e.createElementVNode("div",{class:"quake-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("div",{class:"quake-details"},[e.createElementVNode("div",{class:"quake-distance"},"距离: "+e.toDisplayString(t.distance),1),e.createElementVNode("div",{class:"quake-depth"},"深度: "+e.toDisplayString(t.depth),1)]),e.createElementVNode("div",{class:"quake-warning"},[e.createElementVNode("i",{class:"fas fa-exclamation-triangle warning-icon"}),e.createElementVNode("div",null,e.toDisplayString(t.warning),1)])])))),128))]))}},[["__scopeId","data-v-1421f9b5"]]),i=["{","}"];const r=/^(?:\d)+/,d=/^(?:\w)+/;const u="zh-Hans",f="zh-Hant",m="en",p=Object.prototype.hasOwnProperty,h=(e,t)=>p.call(e,t),g=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,o=i){if(!t)return[e];let n=this._caches[e];return n||(n=function(e,[t,o]){const n=[];let a=0,l="";for(;a<e.length;){let c=e[a++];if(c===t){l&&n.push({type:"text",value:l}),l="";let t="";for(c=e[a++];void 0!==c&&c!==o;)t+=c,c=e[a++];const s=c===o,i=r.test(t)?"list":s&&d.test(t)?"named":"unknown";n.push({value:t,type:i})}else l+=c}return l&&n.push({type:"text",value:l}),n}(e,o),this._caches[e]=n),function(e,t){const o=[];let n=0;const a=Array.isArray(t)?"list":(l=t,null!==l&&"object"==typeof l?"named":"unknown");var l;if("unknown"===a)return o;for(;n<e.length;){const l=e[n];switch(l.type){case"text":o.push(l.value);break;case"list":o.push(t[parseInt(l.value,10)]);break;case"named":"named"===a&&o.push(t[l.value])}n++}return o}(n,t)}};function y(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return u;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?u:e.indexOf("-hant")>-1?f:(o=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==o.indexOf(e)))?f:u);var o;let n=[m,"fr","es"];t&&Object.keys(t).length>0&&(n=Object.keys(t));const a=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,n);return a||void 0}class v{constructor({locale:e,fallbackLocale:t,messages:o,watcher:n,formater:a}){this.locale=m,this.fallbackLocale=m,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=a||g,this.messages=o||{},this.setLocale(e||m),n&&this.watchLocale(n)}setLocale(e){const t=this.locale;this.locale=y(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,o=!0){const n=this.messages[e];n?o?Object.assign(n,t):Object.keys(t).forEach((e=>{h(n,e)||(n[e]=t[e])})):this.messages[e]=t}f(e,t,o){return this.formater.interpolate(e,t,o).join("")}t(e,t,o){let n=this.message;return"string"==typeof t?(t=y(t,this.messages))&&(n=this.messages[t]):o=t,h(n,e)?this.formater.interpolate(n[e],o).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const k={en:{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},"zh-Hans":{"uni-load-more.contentdown":"上拉显示更多","uni-load-more.contentrefresh":"正在加载...","uni-load-more.contentnomore":"没有更多数据了"},"zh-Hant":{"uni-load-more.contentdown":"上拉顯示更多","uni-load-more.contentrefresh":"正在加載...","uni-load-more.contentnomore":"沒有更多數據了"}};let _;setTimeout((()=>{_=uni.getSystemInfoSync().platform}),16);const{t:E}=function(e,t={},o,n){if("string"!=typeof e){const o=[t,e];e=o[0],t=o[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():m),"string"!=typeof o&&(o="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||m);const a=new v({locale:e,fallbackLocale:o,messages:t,watcher:n});let l=(e,t)=>{if("function"!=typeof getApp)l=function(e,t){return a.t(e,t)};else{let e=!1;l=function(t,o){const n=getApp().$vm;return n&&(n.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(n,a))),a.t(t,o)}}return l(e,t)};return{i18n:a,f:(e,t,o)=>a.f(e,t,o),t:(e,t)=>l(e,t),add:(e,t,o=!0)=>a.add(e,t,o),watch:e=>a.watchLocale(e),getLocale:()=>a.getLocale(),setLocale:e=>a.setLocale(e)}}(k);const b=t({name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:()=>({contentdown:"",contentrefresh:"",contentnomore:""})},showText:{type:Boolean,default:!0}},data:()=>({webviewHide:!1,platform:_,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZV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"}),computed:{iconSnowWidth(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText(){return this.contentText.contentdown||E("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||E("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||E("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}},[["render",function(t,o,n,a,l,c){return e.openBlock(),e.createElementBlock("view",{class:"uni-load-more",onClick:o[0]||(o[0]=(...e)=>c.onClick&&c.onClick(...e))},[!l.webviewHide&&("circle"===n.iconType||"auto"===n.iconType&&"android"===l.platform)&&"loading"===n.status&&n.showIcon?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--android-MP"},[e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4)],4)):!l.webviewHide&&"loading"===n.status&&n.showIcon?(e.openBlock(),e.createElementBlock("view",{key:1,style:e.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--ios-H5"},[e.createElementVNode("image",{src:l.imgBase64,mode:"widthFix"},null,8,["src"])],4)):e.createCommentVNode("",!0),n.showText?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uni-load-more__text",style:e.normalizeStyle({color:n.color})},e.toDisplayString("more"===n.status?c.contentdownText:"loading"===n.status?c.contentrefreshText:c.contentnomoreText),5)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-b9147751"]]),w=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const N=t({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:w}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,o,n,a,l,c){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(c.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+n.type,n.customPrefix,n.customPrefix?n.type:""]]),onClick:o[0]||(o[0]=(...e)=>c._onClick&&c._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-1320ff52"]]),V=t({__name:"HistoryTab",setup(t){const o=[{value:"all",label:"全部"},{value:"warning",label:"预警"},{value:"earthquake",label:"地震"}],n=e.ref("all"),a=e.ref([]),s=e.ref(!1),i=e.ref(null),r=e.ref(0),d=async()=>{const e=Date.now();if(!(e-r.value<3e5&&a.value.length>0)){s.value=!0,i.value=null;try{const[t,o]=await new Promise((e=>{uni.request({url:"https://api.wolfx.jp/cenc_eqlist.json",method:"GET",success:t=>e([null,t]),fail:t=>e([t,null])})}));if(t)throw t;if(200!==o.statusCode)throw new Error(`请求失败，状态码: ${o.statusCode}`);let n=[];if(o.data&&"object"==typeof o.data&&(n=Object.keys(o.data).map((e=>({No:e,...o.data[e]})))),0===n.length)throw new Error("未找到有效地震数据");a.value=u(n),r.value=e}catch(t){i.value=t.errMsg||t.message||"获取地震数据失败",l("error","at pages/HistoryTab/HistoryTab.vue:136","地震数据加载错误:",t),a.value.length>0&&(i.value+=" (显示缓存数据)")}finally{s.value=!1}}},u=e=>e.filter((e=>e&&e.time&&e.magnitude)).sort(((e,t)=>new Date(t.time)-new Date(e.time))).map((e=>({id:e.EventID||`eq-${e.time}-${e.magnitude}-${Math.random().toString(36).substr(2,6)}`,type:e.type||"reviewed",magnitude:parseFloat(e.magnitude).toFixed(1),title:f(e.location),status:"automatic"===e.type?"自动预警":"正式测定",time:m(e.time),depth:e.depth?`${parseFloat(e.depth).toFixed(1)}`:"未知",intensity:e.intensity||"未知",epicenter:e.location,description:`震源深度${e.depth||"未知"}千米，坐标: ${e.latitude||"未知"}, ${e.longitude||"未知"}`,severityClass:h(e.magnitude),reportTime:e.ReportTime?m(e.ReportTime):null}))),f=e=>e?e.replace(/^中国(省|自治区|)/,"").trim()||e:"未知地点",m=e=>{try{const t=new Date(e);return isNaN(t.getTime())?e:`${t.getFullYear()}-${p(t.getMonth()+1)}-${p(t.getDate())} ${p(t.getHours())}:${p(t.getMinutes())}`}catch{return e}},p=e=>e.toString().padStart(2,"0"),h=e=>{const t=parseFloat(e)||0;return t<3.5?"minor":t<4.5?"light":t<6?"moderate":t<7?"strong":"major"},g=e.computed((()=>"all"===n.value?a.value:a.value.filter((e=>"warning"===n.value?"automatic"===e.type:"automatic"!==e.type)))),y=()=>{d()};return e.onMounted((()=>{d(),setInterval((()=>{s.value||d()}),3e5)})),(t,a)=>{const l=c(e.resolveDynamicComponent("uni-load-more"),b),r=c(e.resolveDynamicComponent("uni-icons"),N);return e.openBlock(),e.createElementBlock("view",{class:"history-tab"},[e.createElementVNode("view",{class:"history-filter"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(o,(t=>e.createElementVNode("button",{key:t.value,class:e.normalizeClass(["filter-btn",{active:n.value===t.value}]),onClick:e=>(e=>{n.value=e})(t.value)},e.toDisplayString(t.label),11,["onClick"]))),64))]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-state"},[e.createVNode(l,{status:"loading"})])):i.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-state"},[e.createVNode(r,{type:"info",size:"24",color:"#e74c3c"}),e.createElementVNode("text",null,"数据加载失败: "+e.toDisplayString(i.value),1),e.createElementVNode("button",{onClick:y,class:"retry-btn"},"重试")])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[0===g.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createVNode(r,{type:"folder",size:"24",color:"#95a5a6"}),e.createElementVNode("text",null,"暂无地震数据")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,(t=>(e.openBlock(),e.createElementBlock("view",{class:"history-item",key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(["history-severity",t.severityClass])},[e.createElementVNode("text",{class:"magnitude"},e.toDisplayString(t.magnitude),1),e.createElementVNode("text",{class:"magnitude-label"},"级")],2),e.createElementVNode("view",{class:"history-content"},[e.createElementVNode("view",{class:"history-title"},[e.createElementVNode("text",{class:"location"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",t.type])},[e.createElementVNode("text",null,e.toDisplayString(t.status),1)],2)]),e.createElementVNode("view",{class:"history-meta"},[e.createElementVNode("text",{class:"history-time"},[e.createVNode(r,{type:"calendar",size:"14",color:"#666"}),e.createTextVNode(" "+e.toDisplayString(t.time),1)]),e.createElementVNode("text",{class:"history-depth"},[e.createVNode(r,{type:"location",size:"14",color:"#666"}),e.createTextVNode(" 深度: "+e.toDisplayString(t.depth)+"km ",1)])]),e.createElementVNode("view",{class:"history-desc"},[t.intensity?(e.openBlock(),e.createElementBlock("text",{key:0},[e.createVNode(r,{type:"notification",size:"14",color:"#888"}),e.createTextVNode(" 最大烈度: "+e.toDisplayString(t.intensity),1)])):e.createCommentVNode("",!0),t.epicenter?(e.openBlock(),e.createElementBlock("text",{key:1},[e.createVNode(r,{type:"map",size:"14",color:"#888"}),e.createTextVNode(" 震中: "+e.toDisplayString(t.epicenter),1)])):e.createCommentVNode("",!0)])])])))),128))],64))])}}},[["__scopeId","data-v-c55e2bec"]]),A=t({__name:"GuideTab",setup(t){const o=e.ref([{id:1,title:"居家避险",icon:"fas fa-house-damage",items:[{id:1,title:"室内安全",icon:"fas fa-couch",desc:"迅速躲在结实的桌子、床下或内墙角落；远离窗户、玻璃及悬挂物；不要跳楼或使用电梯。"},{id:2,title:"厨房避险",icon:"fas fa-utensils",desc:"立即关闭燃气阀门和电源；躲避时远离炉灶、冰箱等可能倾倒的重物。"}]},{id:2,title:"公共场所避险",icon:"fas fa-building",items:[{id:1,title:"商场/超市",icon:"fas fa-store",desc:"就近躲在大柱子或坚固柜台旁；不要拥挤冲向出口，防止踩踏；避开货架及玻璃橱窗。"},{id:2,title:"学校/办公室",icon:"fas fa-school",desc:"迅速躲在课桌或办公桌下；保护好头部；震动停止后有序疏散到空旷地带。"}]},{id:3,title:"户外避险",icon:"fas fa-car-crash",items:[{id:1,title:"街道/开阔地",icon:"fas fa-road",desc:"远离建筑物、电线杆、广告牌；蹲下保护头部；不要返回室内取物。"},{id:2,title:"行驶车辆",icon:"fas fa-car",desc:"尽快在安全地带停车；不要停在桥梁、隧道或高大建筑物旁；留在车内通常比跑出去更安全。"}]}]);return(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"guide-tab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t=>(e.openBlock(),e.createElementBlock("div",{class:"guide-category",key:t.id},[e.createElementVNode("h3",{class:"guide-title"},[e.createElementVNode("i",{class:e.normalizeClass(t.icon)},null,2),e.createTextVNode(e.toDisplayString(t.title),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,(t=>(e.openBlock(),e.createElementBlock("div",{class:"guide-item",key:t.id},[e.createElementVNode("h4",{class:"guide-item-title"},[e.createElementVNode("i",{class:e.normalizeClass(t.icon)},null,2),e.createTextVNode(e.toDisplayString(t.title),1)]),e.createElementVNode("p",{class:"guide-item-desc"},e.toDisplayString(t.desc),1)])))),128))])))),128))]))}},[["__scopeId","data-v-fced089e"]]),B=t({__name:"SettingsTab",setup(t){const o=e.reactive([{id:1,name:"预警通知",icon:"fas fa-bell",type:"toggle",value:!0},{id:2,name:"警报声音",icon:"fas fa-volume-up",type:"toggle",value:!0},{id:3,name:"振动提醒",icon:"fas fa-vibrate",type:"toggle",value:!0},{id:4,name:"预警阈值",icon:"fas fa-broadcast-tower",type:"text",value:"4.0级及以上"},{id:5,name:"定位精度",icon:"fas fa-map-marked-alt",type:"text",value:"高精度"},{id:6,name:"夜间模式",icon:"fas fa-moon",type:"toggle",value:!1},{id:7,name:"数据刷新频率",icon:"fas fa-history",type:"text",value:"自动"}]);return(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"settings-tab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o,(t=>(e.openBlock(),e.createElementBlock("div",{class:"setting-item",key:t.id},[e.createElementVNode("div",{class:"setting-left"},[e.createElementVNode("div",{class:"setting-icon"},[e.createElementVNode("i",{class:e.normalizeClass(t.icon)},null,2)]),e.createElementVNode("div",{class:"setting-name"},e.toDisplayString(t.name),1)]),"toggle"===t.type?(e.openBlock(),e.createElementBlock("label",{key:0,class:"switch"},[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":e=>t.value=e,onChange:e=>function(e){l("log","at pages/SettingsTab/SettingsTab.vue:37",`${e.name} ${e.value?"开启":"关闭"}`)}(t)},null,40,["onUpdate:modelValue","onChange"]),[[e.vModelCheckbox,t.value]]),e.createElementVNode("span",{class:"slider"})])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"setting-value"},e.toDisplayString(t.value),1))])))),128))]))}},[["__scopeId","data-v-e6bda75d"]]);__definePage("pages/index/index",t({__name:"index",setup(t){const l=e.ref("alert"),c=e.ref(!1);function i(e){l.value=e}function r(){c.value=!1}return e.onMounted((()=>{setTimeout((()=>{Math.random()<.05&&(c.value=!0,setTimeout((()=>{c.value=!1}),1e4))}),3e3)})),(t,d)=>(e.openBlock(),e.createElementBlock("div",{class:"container"},[c.value?(e.openBlock(),e.createBlock(n,{key:0,onClose:r})):e.createCommentVNode("",!0),e.createVNode(o),e.createElementVNode("div",{class:"content"},["alert"===l.value?(e.openBlock(),e.createBlock(s,{key:0})):"history"===l.value?(e.openBlock(),e.createBlock(V,{key:1})):"guide"===l.value?(e.openBlock(),e.createBlock(A,{key:2})):"settings"===l.value?(e.openBlock(),e.createBlock(B,{key:3})):e.createCommentVNode("",!0)]),e.createVNode(a,{activeTab:l.value,onChangeTab:i},null,8,["activeTab"])]))}},[["__scopeId","data-v-811fdadc"]])),__definePage("pages/Header/Header",o),__definePage("pages/EmergencyAlert/EmergencyAlert",n),__definePage("pages/TabBar/TabBar",a),__definePage("pages/AlertTab/AlertTab",s),__definePage("pages/HistoryTab/HistoryTab",V),__definePage("pages/GuideTab/GuideTab",A),__definePage("pages/SettingsTab/SettingsTab",B);const x={onLaunch:function(){l("warn","at App.vue:4","当前组件仅支持 uni_modules 目录结构 ，请升级 HBuilderX 到 3.1.0 版本以上！"),l("log","at App.vue:5","App Launch")},onShow:function(){l("log","at App.vue:8","App Show")},onHide:function(){l("log","at App.vue:11","App Hide")}};const{app:C,Vuex:D,Pinia:T}={app:e.createVueApp(x)};uni.Vuex=D,uni.Pinia=T,C.provide("__globalStyles",__uniConfig.styles),C._component.mpType="app",C._component.render=()=>{},C.mount("#app")}(Vue);
